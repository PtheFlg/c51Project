
# 1. 数码管结构

数码管就是那种，八个灯构成一个 ‘8’ 字形的结构：

![image.png](https://gitee.com/pthef/imgrepo/raw/master/20250128180504.png)

一个八字型里面有 7 个横，外加后面一个点，所有至少需要8个引脚操作一个数码管的8个灯，然后这个数码管组有4个，有需要额外的四个引脚来控制不同的数码管段。

## 1.1 原理图

看看开发版提供的数码管原理图：

![image.png](https://gitee.com/pthef/imgrepo/raw/master/20250128180803.png)

看图发现，所有数码管的相同边全都连到同一个引脚上，比如 a 边，8个数码管的 a 边，全部连接到了 P00 引脚，这就导致，我们给P00一个高电平，LED1 - LED8 全部是低电平（8个数码管全部开启），会导致所有数码管的a边被点亮，这就导致：<font color = 'red'>在一个时刻，一组数码管只能显示一个内容，不可能并行的显示多个内容</font>。

想要不同数码管显示不同数字，就需要用到 **并发**，宏观上看同一时间不同数码管显示不同内容，微观上看，其实是不同数码管轮流的显示内容，然后快速切换，让我们以为是显示不同内容。

# 2. 74HC138 译码器

这个学计算机组成原理的提到过译码器，比如内存在同一时间只能选通一行来传出数据，总共有 8 行，那就可以只用三根线来控制八行，3选8，就叫 38 译码器。

这里的情况类似，8个数码管，但是在一个时刻内，只需要选通一个数码管进行显示。比如要显示 123，那就先选通第一个数码管显示 1，然后快速的切换到第二个数码管显示2，再切换到第三个数码管显示3，快速的切换，就会看起来显示的是 123。所以，就可以使用 138 译码器，用 3 个线，来选中8条线中的某一条（只能是一条）。

![image.png](https://gitee.com/pthef/imgrepo/raw/master/20250128182445.png)

芯片上的 VCC 和 GND 负责给芯片单独供电，`P24 P23 P22` 三位二进制数可以表示8个状态，来选通 Y0 - Y7。图中 Y0 - Y7 上面有条横线，代表取低电平。

具体例子就是：我们让 `P24 = 1; P23 = 0; P22 = 1;`，三位二进制表示十进制数 5，就会选通 Y5，给 Y5 输出低电平，其他高电平，输出 `1111 1011`，Y5 对应 LED6，则 数码管6 被选中，然后通过给 P00 - P07 赋值，让数码管6显示内容。